package com.robben.bbs.controller;import com.robben.bbs.pojo.PostComment;import com.robben.bbs.pojo.Post;import com.robben.bbs.service.PostService;import com.robben.bbs.utilities.ResultInfo;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.*;import org.springframework.web.multipart.MultipartFile;import java.io.IOException;@RestControllerpublic class PostController {    @Autowired    PostService postService;    @GetMapping("/allPosts")    public ResultInfo getAllPosts(){        return ResultInfo.success(postService.getAllPosts());    }    @GetMapping("/post")    public ResultInfo getPostByPostId(Integer postId){        return ResultInfo.success(postService.getPostByPostId(postId));    }    /**     * 发布帖子     * @param     * @return     */    @PostMapping("/post")    public ResultInfo savePost(@RequestParam("pictures")MultipartFile[] pictures,                               @RequestParam("posterId") Integer posterId,                               @RequestParam("content") String content,                               @RequestParam("tittle")String tittle,                               @RequestParam("topic")String topic) throws IOException {        int result=postService.savePost(pictures, posterId, content, tittle,                topic);        if(result==0){            return ResultInfo.fail("保存失败");        }        return ResultInfo.success();    }    @PatchMapping("/post")    public ResultInfo updatePost(@RequestBody Post post){        int result=postService.updatePost(post);        if(result==0){            return ResultInfo.fail("修改失败");        }        return ResultInfo.success();    }    @DeleteMapping("/post")    public ResultInfo  deletePost(Integer postId){        int result=postService.deletePost(postId);        if(result==1){            return ResultInfo.success();        }        return ResultInfo.fail("删除失败");    }    /**     * 发表评论     * @param comment     * @return     */    @PostMapping("/comment")    public ResultInfo postComment(@RequestBody PostComment comment){        int res=postService.postComment(comment);        if(res==1) {            return ResultInfo.success();        }        return ResultInfo.fail("保存失败");    }    @DeleteMapping("/comment")    public ResultInfo deleteCommentByCommentId(Integer commentId){        int res=postService.deleteComment(commentId);        if(res!=0) {            return ResultInfo.success();        }        return ResultInfo.fail("删除失败");    }}