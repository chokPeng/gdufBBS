<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"        "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.robben.bbs.mapper.PostMapper">    <resultMap id="post" type="com.robben.bbs.pojo.Post">        <id column="id" property="id"></id>        <result column="postingTime" property="postingTime"></result>        <result column="readingTimes" property="readingTimes"></result>        <result column="title" property="title"></result>        <result column="topic" property="topic"></result>        <result column="content" property="content"></result>        <association property="poster" column="posterId"        select="com.robben.bbs.mapper.OrdinaryUserMapper.getUserById">        </association>    </resultMap>    <resultMap id="postAndComments" type="com.robben.bbs.pojo.Post">        <id column="id" property="id"></id>        <result column="postingTime" property="postingTime"></result>        <result column="readingTimes" property="readingTimes"></result>        <result column="title" property="title"></result>        <result column="topic" property="topic"></result>        <result column="content" property="content"></result>        <association property="poster" column="posterId"                     select="com.robben.bbs.mapper.OrdinaryUserMapper.getUserById">        </association>        <collection property="comment" column="id"                 select="com.robben.bbs.mapper.PostCommentMapper.getPostCommentByPostId">        </collection>    </resultMap>    <select id="getTopic" resultType="java.lang.String">        select name from topic where type="post"    </select>    <select id="getAllPosts" resultMap="post">        select * from post    </select>    <select id="getPostByPostId" resultMap="postAndComments">        select *  from post where id=#{id}    </select>    <update id="updatePost">        update post        <trim prefix="(" suffix=")" suffixOverrides=",">            <if test="content!=null">                content,            </if>            <if test="readTimes!=null">                readTimes,            </if>            <if test="topic!=null">                topic,            </if>        </trim>        <trim prefix="values(" suffix=")" suffixOverrides=",">            <if test="content!=null">                #{content},            </if>            <if test="readTimes!=null">                #{readTimes},            </if>            <if test="topic!=null">                #{topic},            </if>        </trim>        where id=#{id}    </update>    <insert id="savePost">        insert into post(id,content,title,topic,posterId)        values(#{id},#{content},#{title},#{topic},#{posterId})    </insert>    <delete id="deletePostById">        delete from post where id=#{id}    </delete>    <select id="getPostByTitle" resultMap="post">        select  * from post where title like CONCAT('%',#{title},'%')    </select></mapper>