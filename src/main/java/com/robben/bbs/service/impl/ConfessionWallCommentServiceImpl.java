package com.robben.bbs.service.impl;import com.robben.bbs.mapper.ConfessionWallCommentMapper;import com.robben.bbs.service.ConfessionWallCommentService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import org.springframework.web.multipart.MultipartFile;import java.io.File;import java.io.IOException;@Servicepublic class ConfessionWallCommentServiceImpl implements ConfessionWallCommentService {    @Autowired    ConfessionWallCommentMapper confessionWallCommentMapper;    @Override    public Integer savePictureComment(MultipartFile picture,                                      Integer confessionWallId,                                      Integer commenterId,                                      String commentContent) throws IOException {        StringBuffer basicPathName=new StringBuffer("/Users/pengchunkao/gdufBBSImage" +                "/wallCommentImages/");        //String picturePath=null;        if(picture!=null){            //图片命名：commentId.jpg,...            basicPathName=                    basicPathName.append(commenterId).append(".").                            append(picture.getContentType().substring(6));            File file=new File(basicPathName.toString());            picture.transferTo(file);        }        return confessionWallCommentMapper.saveComment(basicPathName.toString(),                confessionWallId,commenterId, commentContent);    }    /**     * 删除图片后再删除记录     * @param commentId     * @return     */    @Override    public Integer deleteCommentById(Integer commentId, String picturePath) {        if(picturePath!=null){            File file=new File(picturePath);            file.delete();        }        return confessionWallCommentMapper.deleteCommentById(commentId);    }}