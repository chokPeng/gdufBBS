<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"        "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.robben.bbs.mapper.OrdinaryUserMapper">    <resultMap id="ordinaryUser"               type="com.robben.bbs.pojo.OrdinaryUser">        <id column="userId" property="userId"></id>        <result column="password" property="password"></result>        <collection column="userId" property="authorities"                    select="com.robben.bbs.mapper.OrdinaryUserMapper.getAuthoritiesByUserId">        </collection>    </resultMap>    <select id="getAuthoritiesByUserId" parameterType="java.lang.Integer"            resultType="org.springframework.security.core.authority.SimpleGrantedAuthority">        select role from authorities where userId=#{userId}    </select>    <select id="queryByUsername" parameterType="java.lang.String"            resultMap="ordinaryUser">        select o.password,o.userId from oridinaryUser o where        username=#{username}    </select>    <select id="getUserById" resultType="com.robben.bbs.pojo.OrdinaryUser">        select username, avatar, level,location, sex,    introduction, joinTime from oridinaryUser where userId=#{id}    </select>    <insert id="register" parameterType="com.robben.bbs.pojo.OrdinaryUser">        insert into oridinaryUser(username,password)        values(#{username},#{password})    </insert></mapper>